---
# Secret template - DO NOT commit actual values
# Use: kubectl create secret generic family-finance-secrets --from-env-file=.env -n family-finance
apiVersion: v1
kind: Secret
metadata:
  name: family-finance-secrets
  namespace: family-finance
  labels:
    app.kubernetes.io/name: family-finance
    app.kubernetes.io/component: secrets
type: Opaque
stringData:
  # Database - REPLACE with actual values
  DATABASE_URL: "postgresql+asyncpg://user:password@postgres:5432/familyfinance"

  # JWT Secret - REPLACE with actual value (min 32 chars)
  JWT_SECRET_KEY: "CHANGE_ME_TO_A_SECURE_RANDOM_STRING_MIN_32_CHARS"

  # Google Cloud Storage - REPLACE with actual values
  GCS_BUCKET_NAME: "your-bucket-name"
  GCS_PROJECT_ID: "your-project-id"
  # Note: For GCS credentials, mount service account JSON as volume
  # or use Workload Identity on GKE

  # Exchange Rate API
  EXCHANGE_RATE_API_KEY: "your-api-key"
---
# Service Account for GCS access (GKE Workload Identity)
apiVersion: v1
kind: ServiceAccount
metadata:
  name: family-finance-sa
  namespace: family-finance
  annotations:
    # For GKE Workload Identity
    iam.gke.io/gcp-service-account: "family-finance@PROJECT_ID.iam.gserviceaccount.com"
  labels:
    app.kubernetes.io/name: family-finance
    app.kubernetes.io/component: serviceaccount
